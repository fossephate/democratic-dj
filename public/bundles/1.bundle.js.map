{"version":3,"sources":["webpack:///./src/components/Callback.jsx"],"names":["styles","root","display","flexDirection","width","justifyContent","margin","maxWidth","device","tablet","laptop","Callback","props","state","console","log","values","queryString","parse","location","search","code","roomName","localforage","getItem","then","value","setItem","history","replace","error","classes","PureComponent","mapStateToProps","mapDispatchToProps","dispatch","compose","withRouter","withStyles","connect"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;CAGA;;CAGA;;CAGA;;CAGA;;CAGA;;AACA;AACA;CAGA;;AACA,IAAMA,MAAM;AACXC,MAAI,EAAE;AACLC,WAAO,EAAE,MADJ;AAELC,iBAAa,EAAE,QAFV;AAGLC,SAAK,EAAE,MAHF;AAIL;AACAC,kBAAc,EAAE,QALX;AAMLC,UAAM,EAAE,QANH;AAOLC,YAAQ,EAAE;AAPL;AADK,4BAUVC,2DAAM,CAACC,MAVG,EAUM;AAChBR,MAAI,EAAE;AADU,CAVN,4BAaVO,2DAAM,CAACE,MAbG,EAaM;AAChBT,MAAI,EAAE;AADU,CAbN,qCAiBJ;AACNC,SAAO,EAAE,MADH;AAENC,eAAa,EAAE;AAFT,CAjBI,WAAZ;;IAuBMQ,Q;;;;;AACL,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAClB,8BAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa,EAAb;AAHkB;AAIlB;;;;WAED,6BAAoB;AAAA;;AACnBC,aAAO,CAACC,GAAR,CAAY,SAAZ;AACA,UAAIC,MAAM,GAAGC,mDAAW,CAACC,KAAZ,CAAkB,KAAKN,KAAL,CAAWO,QAAX,CAAoBC,MAAtC,CAAb,CAFmB,CAGnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAIJ,MAAM,CAACK,IAAX,EAAiB;AAChB,YAAIC,QAAQ,GAAG,IAAf;AACAC,0DAAW,CACTC,OADF,CACU,aADV,EAEEC,IAFF,CAEO,UAACC,KAAD,EAAW;AAChBJ,kBAAQ,GAAGI,KAAK,CAACJ,QAAjB;AACA,iBAAOC,kDAAW,CAACI,OAAZ,CAAoB,aAApB,kCAAwCD,KAAxC;AAA+CL,gBAAI,EAAEL,MAAM,CAACK;AAA5D,aAAP;AACA,SALF,EAMEI,IANF,CAMO,YAAM;AACX,gBAAI,CAACb,KAAL,CAAWgB,OAAX,CAAmBC,OAAnB,eAAkCP,QAAlC;AACA,SARF,WASQ,UAACQ,KAAD,EAAW;AACjBhB,iBAAO,CAACC,GAAR,CAAY,mCAAmCe,KAA/C;AACA,SAXF;AAYA,OAdD,MAcO;AACNhB,eAAO,CAACC,GAAR,CAAY,iBAAZ;AACA;AACD;;;WAED,gCAAuB,CAAE;;;WAEzB,kBAAS;AAER,UAAQgB,OAAR,GAAoB,KAAKnB,KAAzB,CAAQmB,OAAR;AAEA,0BACC;AAAK,iBAAS,EAAEA,OAAO,CAAC9B;AAAxB,sBAQC,qGARD,CADD;AAYA;;;;EA3DqB+B,mD;;AA8DvB,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACpB,KAAD,EAAW;AAClC,SAAO,EAAP;AACA,CAFD;;AAIA,IAAMqB,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;AACxC,SAAO,EAAP;AACA,CAFD;;AAIeC,wHAAO,CACrBC,uDADqB,EAErBC,2EAAU,CAACtC,MAAD,CAFW,EAGrBuC,2DAAO,CAACN,eAAD,EAAkBC,kBAAlB,CAHc,CAAP,CAIbvB,QAJa,CAAf,E","file":"1.bundle.js","sourcesContent":["// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// react-router:\r\nimport { withRouter } from \"react-router\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\nimport queryString from \"query-string\";\r\nimport localforage from \"localforage\";\r\n\r\n// jss:\r\nconst styles = {\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\twidth: \"100%\",\r\n\t\t// height: \"100vh\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tmargin: \"0 auto\",\r\n\t\tmaxWidth: \"700px\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {},\r\n\t},\r\n\t[device.laptop]: {\r\n\t\troot: {},\r\n\t},\r\n\r\n\tlinks: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t},\r\n};\r\n\r\nclass Callback extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconsole.log(\"mounted\");\r\n\t\tlet values = queryString.parse(this.props.location.search);\r\n\t\t// localforage\r\n\t\t// \t.setItem(\"dj:code\", values.code)\r\n\t\t// \t.then(() => {\r\n\t\t// \t\treturn localforage.getItem(\"dj:roomInfo\");\r\n\t\t// \t})\r\n\t\t// \t.then((value) => {\r\n\t\t// \t\tthis.props.history.replace(`/dj/${value.roomName}`);\r\n\t\t// \t})\r\n\t\t// \t.catch((error) => {\r\n\t\t// \t\tconsole.log(\"error getting/setting value!: \" + error);\r\n\t\t// \t});\r\n\r\n\t\tif (values.code) {\r\n\t\t\tlet roomName = null;\r\n\t\t\tlocalforage\r\n\t\t\t\t.getItem(\"dj:roomInfo\")\r\n\t\t\t\t.then((value) => {\r\n\t\t\t\t\troomName = value.roomName;\r\n\t\t\t\t\treturn localforage.setItem(\"dj:roomInfo\", { ...value, code: values.code });\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.props.history.replace(`/dj/${roomName}`);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tconsole.log(\"error getting/setting value!: \" + error);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tconsole.log(\"no access code!\");\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {}\r\n\r\n\trender() {\r\n\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t{/* <StreamsAppBar\r\n\t\t\t\t\thistory={this.props.history}\r\n\t\t\t\t/> */}\r\n\r\n\t\t\t\t{/* <ProjectList /> */}\r\n\r\n\t\t\t\t{/* selects the first matching path: */}\r\n\t\t\t\t<div>asdsdgadfg3333333333333333</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {};\r\n};\r\n\r\nexport default compose(\r\n\twithRouter,\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(Callback);\r\n"],"sourceRoot":""}